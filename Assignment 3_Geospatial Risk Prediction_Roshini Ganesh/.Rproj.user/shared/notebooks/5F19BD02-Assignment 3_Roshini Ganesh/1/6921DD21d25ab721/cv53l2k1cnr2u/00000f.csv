"0","## Spatial Data Wrangling"
"0","abandonCars <- "
"0","  read.socrata(""https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Abandoned-Vehicles/3c9v-pnva"") %>%"
"0","    mutate(year = substr(creation_date,1,4)) %>% filter(year == ""2017"") %>%"
"0","    dplyr::select(Y = latitude, X = longitude) %>%"
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"") %>%"
"0","    st_transform(st_crs(fishnet)) %>%"
"0","    mutate(Legend = ""Abandoned_Cars"")"
"0","  "
"0","abandonBuildings <- "
"0","  read.socrata(""https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Vacant-and-Abandoned-Building/7nii-7srd"") %>%"
"0","    mutate(year = substr(date_service_request_was_received,1,4)) %>%  filter(year == ""2017"") %>%"
"0","    dplyr::select(Y = latitude, X = longitude) %>%"
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"") %>%"
"0","    st_transform(st_crs(fishnet)) %>%"
"0","    mutate(Legend = ""Abandoned_Buildings"")"
"0",""
"0","graffiti <- "
"0","  read.socrata(""https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Graffiti-Removal-Historical/hec5-y4x5"") %>%"
"0","    mutate(year = substr(creation_date,1,4)) %>% filter(year == ""2017"") %>%"
"0","    filter(where_is_the_graffiti_located_ %in% c(""Front"", ""Rear"", ""Side"")) %>%"
"0","    dplyr::select(Y = latitude, X = longitude) %>%"
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"") %>%"
"0","    st_transform(st_crs(fishnet)) %>%"
"0","    mutate(Legend = ""Graffiti"")"
"0",""
"0","streetLightsOut <- "
"0","  read.socrata(""https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Street-Lights-All-Out/zuxi-7xem"") %>%"
"0","    mutate(year = substr(creation_date,1,4)) %>% filter(year == ""2017"") %>%"
"0","    dplyr::select(Y = latitude, X = longitude) %>%"
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"") %>%"
"0","    st_transform(st_crs(fishnet)) %>%"
"0","    mutate(Legend = ""Street_Lights_Out"")"
"0",""
"0","sanitation <-"
"0","  read.socrata(""https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Sanitation-Code-Complaints-Hi/me59-5fac"") %>%"
"0","    mutate(year = substr(creation_date,1,4)) %>% filter(year == ""2017"") %>%"
"0","    dplyr::select(Y = latitude, X = longitude) %>%"
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"") %>%"
"0","    st_transform(st_crs(fishnet)) %>%"
"0","    mutate(Legend = ""Sanitation"")"
"0",""
"0","liquorRetail <- "
"0","  read.socrata(""https://data.cityofchicago.org/resource/nrmj-3kcf.json"") %>%  "
"0","    filter(business_activity == ""Retail Sales of Packaged Liquor"") %>%"
"0","    dplyr::select(Y = latitude, X = longitude) %>%"
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"") %>%"
"0","    st_transform(st_crs(fishnet)) %>%"
"0","    mutate(Legend = ""Liquor_Retail"")"
"0",""
"0","affordableHousing <- "
"0","    read.socrata(""https://data.cityofchicago.org/resource/s6ha-ppgi.json"") %>%"
"0","     dplyr::select(Y = latitude, X = longitude) %>%"
"0","     na.omit() %>%"
"0","     st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"") %>%"
"0","     st_transform(st_crs(fishnet)) %>%"
"0","     mutate(Legend = ""Affordable_Rental_Housing_Development"")"
"0",""
"0","bikeRacks <- "
"0","    read.socrata(""https://data.cityofchicago.org/resource/4ywc-hr3a.json"") %>%"
"0","     dplyr::select(Y = latitude, X = longitude) %>%"
"0","     na.omit() %>%"
"0","     st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"") %>%"
"0","     st_transform(st_crs(fishnet)) %>%"
"0","     mutate(Legend = ""Bike_Racks"")"
"0",""
"0","groceryStores <- "
"0","    read.socrata(""https://data.cityofchicago.org/resource/ce29-twzt.json"") %>%"
"0","     dplyr::select(Y = latitude, X = longitude) %>%"
"0","     na.omit() %>%"
"0","     st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"") %>%"
"0","     st_transform(st_crs(fishnet)) %>%"
"0","     mutate(Legend = ""Grocery_Stores"")"
"0",""
"0","## Neighborhoods Data Wrangling"
"0","neighborhoods <- "
"0","  st_read(""https://raw.githubusercontent.com/blackmad/neighborhoods/master/chicago.geojson"") %>%"
"0","  st_transform(st_crs(fishnet)) "
"1","Reading layer `"
"1","chicago"
"1","' from data source "
"1","`"
"1","https://raw.githubusercontent.com/blackmad/neighborhoods/master/chicago.geojson"
"1","' "
"1","using driver `"
"1","GeoJSON"
"1","'"
"1","
"
"1","Simple feature collection with 98 features and 4 fields"
"1","
"
"1","Geometry type: MULTIPOLYGON
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -87.94011 ymin: 41.64454 xmax: -87.52414 ymax: 42.02304"
"1","
"
"1","Geodetic CRS:  WGS 84
"
