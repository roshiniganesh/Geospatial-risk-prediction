"0","policeDistricts <- "
"0","  st_read(""https://data.cityofchicago.org/api/geospatial/fthy-xz3r?method=export&format=GeoJSON"") %>%"
"0","  st_transform('ESRI:102271') %>%"
"0","  dplyr::select(District = dist_num)"
"1","Reading layer `"
"1","OGRGeoJSON"
"1","' from data source "
"1","`"
"1","https://data.cityofchicago.org/api/geospatial/fthy-xz3r?method=export&format=GeoJSON"
"1","' "
"1","using driver `"
"1","GeoJSON"
"1","'"
"1","
"
"1","Simple feature collection with 25 features and 2 fields"
"1","
"
"1","Geometry type: MULTIPOLYGON
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -87.94011 ymin: 41.64455 xmax: -87.52414 ymax: 42.02303"
"1","
"
"1","Geodetic CRS:  WGS 84
"
"0","  "
"0","policeBeats <- "
"0","  st_read(""https://data.cityofchicago.org/api/geospatial/aerh-rz74?method=export&format=GeoJSON"") %>%"
"0","  st_transform('ESRI:102271') %>%"
"0","  dplyr::select(District = beat_num)"
"1","Reading layer `"
"1","OGRGeoJSON"
"1","' from data source "
"1","`"
"1","https://data.cityofchicago.org/api/geospatial/aerh-rz74?method=export&format=GeoJSON"
"1","' "
"1","using driver `"
"1","GeoJSON"
"1","'"
"1","
"
"1","Simple feature collection with 277 features and 4 fields"
"1","
"
"1","Geometry type: MULTIPOLYGON
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -87.94011 ymin: 41.64455 xmax: -87.52414 ymax: 42.02303"
"1","
"
"1","Geodetic CRS:  WGS 84
"
"0","bothPoliceUnits <- rbind(mutate(policeDistricts, Legend = ""Police Districts""), "
"0","                         mutate(policeBeats, Legend = ""Police Beats""))"
"0",""
"0","arson <- "
"0","  read.socrata(""https://data.cityofchicago.org/Public-Safety/Crimes-2017/d62x-nvdr"") %>% "
"0","    filter(Primary.Type == ""ARSON"" & Description == ""BY FIRE"") %>%"
"0","    mutate(x = gsub(""[()]"", """", Location)) %>%"
"0","    separate(x,into= c(""Y"",""X""), sep="","") %>%"
"0","    mutate(X = as.numeric(X),Y = as.numeric(Y)) %>% "
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"")%>%"
"0","    st_transform('ESRI:102271') %>% "
"0","    distinct()"
"0",""
"0","battery <- "
"0","  read.socrata(""https://data.cityofchicago.org/Public-Safety/Crimes-2017/d62x-nvdr"") %>% "
"0","    filter(Primary.Type == ""BATTERY"" & Description == ""SIMPLE"") %>%"
"0","    mutate(x = gsub(""[()]"", """", Location)) %>%"
"0","    separate(x,into= c(""Y"",""X""), sep="","") %>%"
"0","    mutate(X = as.numeric(X),Y = as.numeric(Y)) %>% "
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"")%>%"
"0","    st_transform('ESRI:102271') %>% "
"0","    distinct()"
"0",""
"0","domesticbattery <- "
"0","  read.socrata(""https://data.cityofchicago.org/Public-Safety/Crimes-2017/d62x-nvdr"") %>% "
"0","    filter(Primary.Type == ""BATTERY"" & Description == ""DOMESTIC BATTERY SIMPLE"") %>%"
"0","    mutate(x = gsub(""[()]"", """", Location)) %>%"
"0","    separate(x,into= c(""Y"",""X""), sep="","") %>%"
"0","    mutate(X = as.numeric(X),Y = as.numeric(Y)) %>% "
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"")%>%"
"0","    st_transform('ESRI:102271') %>% "
"0","    distinct()"
"0",""
"0","criminaldamage <- "
"0","  read.socrata(""https://data.cityofchicago.org/Public-Safety/Crimes-2017/d62x-nvdr"") %>% "
"0","    filter(Primary.Type == ""CRIMINAL DAMAGE"" & Description == ""TO PROPERTY"") %>%"
"0","    mutate(x = gsub(""[()]"", """", Location)) %>%"
"0","    separate(x,into= c(""Y"",""X""), sep="","") %>%"
"0","    mutate(X = as.numeric(X),Y = as.numeric(Y)) %>% "
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"")%>%"
"0","    st_transform('ESRI:102271') %>% "
"0","    distinct()"
"0",""
"0","robbery <- "
"0","  read.socrata(""https://data.cityofchicago.org/Public-Safety/Crimes-2017/d62x-nvdr"") %>% "
"0","    filter(Primary.Type == ""ROBBERY"" & Description == ""ARMED: HANDGUN"") %>%"
"0","    mutate(x = gsub(""[()]"", """", Location)) %>%"
"0","    separate(x,into= c(""Y"",""X""), sep="","") %>%"
"0","    mutate(X = as.numeric(X),Y = as.numeric(Y)) %>% "
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"")%>%"
"0","    st_transform('ESRI:102271') %>% "
"0","    distinct()"
"0",""
"0","theft <- "
"0","  read.socrata(""https://data.cityofchicago.org/Public-Safety/Crimes-2017/d62x-nvdr"") %>% "
"0","    filter(Primary.Type == ""THEFT"" & Description == ""RETAIL THEFT"") %>%"
"0","    mutate(x = gsub(""[()]"", """", Location)) %>%"
"0","    separate(x,into= c(""Y"",""X""), sep="","") %>%"
"0","    mutate(X = as.numeric(X),Y = as.numeric(Y)) %>% "
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"")%>%"
"0","    st_transform('ESRI:102271') %>% "
"0","    distinct()"
"0",""
"0","weaponsviolation <- "
"0","  read.socrata(""https://data.cityofchicago.org/Public-Safety/Crimes-2017/d62x-nvdr"") %>% "
"0","    filter(Primary.Type == ""WEAPONS VIOLATION"" & Description == ""UNLAWFUL POSS OF HANDGUN"") %>%"
"0","    mutate(x = gsub(""[()]"", """", Location)) %>%"
"0","    separate(x,into= c(""Y"",""X""), sep="","") %>%"
"0","    mutate(X = as.numeric(X),Y = as.numeric(Y)) %>% "
"0","    na.omit() %>%"
"0","    st_as_sf(coords = c(""X"", ""Y""), crs = 4326, agr = ""constant"")%>%"
"0","    st_transform('ESRI:102271') %>% "
"0","    distinct()"
"0",""
"0","chicagoBoundary <- "
"0","  st_read(file.path(root.dir,""/Chapter5/chicagoBoundary.geojson"")) %>%"
"0","  st_transform('ESRI:102271') "
"1","Reading layer `"
"1","chicagoBoundary"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/DATA///Chapter5/chicagoBoundary.geojson"
"1","' "
"1","
"
"1","  "
"1","using driver `"
"1","GeoJSON"
"1","'"
"1","
"
"1","Simple feature collection with 1 feature and 1 field"
"1","
"
"1","Geometry type: POLYGON
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -87.8367 ymin: 41.64454 xmax: -87.52414 ymax: 42.02304"
"1","
"
"1","Geodetic CRS:  WGS 84
"
